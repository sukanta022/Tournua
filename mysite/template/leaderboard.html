{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ tournament.name }} | Matches</title>

  <!-- Tailwind + DaisyUI -->
  <link href="https://cdn.jsdelivr.net/npm/daisyui@5" rel="stylesheet" type="text/css" />
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body class="bg-[#001717]">

<!-- Navbar -->
<header class="w-full">
  <div class="navbar shadow-sm px-4 py-4 lg:px-8 lg:py-6 flex justify-between items-center">
    <a class="btn btn-ghost text-2xl lg:text-3xl text-white font-cs-gelios">Tournua</a>
    <div class="hidden lg:flex gap-8 text-white font-medium">
      <a href="#">Home</a>
      <a href="#">Tournament</a>
      <a href="#">About us</a>
    </div>
    <a href="{% url 'logout' %}" class="relative inline-flex items-center justify-center w-10 h-10 lg:w-12 lg:h-12 text-white bg-black rounded-full">
      <span class="absolute inset-0 rounded-full p-[2px] bg-gradient-to-r from-[#13898B] via-[#14D5D4] via-[#0C6083] to-[#118285]"></span>
      <span class="relative z-10 flex items-center justify-center w-full h-full rounded-full">
        <i class="bi bi-box-arrow-right text-lg"></i>
      </span>
    </a>
  </div>
</header>

<!-- Main Content -->
<main class="flex flex-col items-center px-4 py-10 gap-10 lg:px-20">

  <!-- Tournament Info -->
  <div class="w-full lg:w-4/5 bg-cover bg-center rounded-2xl p-6 sm:p-10 space-y-6">

    <!-- Tournament Header -->
    <div class="flex flex-col sm:flex-row sm:items-center gap-4 sm:gap-6">
      <img src="{% static 'trophies/Trophy1.png' %}" alt="Trophy" class="w-24 sm:w-32 lg:w-40 object-contain mx-auto sm:mx-0">
      <div class="text-white text-center sm:text-left space-y-2">
        <p class="text-3xl sm:text-4xl lg:text-5xl font-semibold">{{ tournament.name }}</p>
        <p class="text-lg sm:text-xl text-white/80">{{ tournament.description }}</p>
        <p class="text-lg sm:text-xl text-white/80"><b>Tournament Code:</b> {{ tournament.code }}</p>
      </div>
    </div>

    <!-- Toggle Buttons -->
    <div class="w-full flex rounded-3xl border-2 border-[#13898B] overflow-hidden text-white bg-black/70 backdrop-blur-md mt-6">
      <a href="{% url 'viewTournament' tournament.id %}" class="w-1/2 py-2.5 font-medium text-center transition-all duration-200 hover:bg-[#13898B]/30 focus:bg-[#13898B] focus:text-white">
        Matches
      </a>
      <button class="w-1/2 py-2.5 font-medium text-center transition-all duration-200 hover:bg-[#13898B]/30 focus:bg-[#13898B] focus:text-white">
        Leaderboard
      </button>
    </div>

    <!-- Leaderboard Table -->
    <div class="mt-10 overflow-x-auto">
      <div class="min-w-[600px] bg-black rounded-lg py-3 px-4 text-white">

        <!-- Table Header -->
        <div class="flex justify-between font-semibold text-sm sm:text-base mb-2">
          <div class="flex gap-4 sm:gap-6 min-w-[150px]">
            <p>P</p>
            <p>Team</p>
          </div>
          <div class="flex gap-3 sm:gap-4">
            <p class="w-8 text-center">MP</p>
            <p class="w-8 text-center">W</p>
            <p class="w-8 text-center">D</p>
            <p class="w-8 text-center">L</p>
            <p class="w-8 text-center">GS</p>
            <p class="w-8 text-center">GC</p>
            <p class="w-10 text-center">Pts</p>
          </div>
        </div>

        <!-- Table Rows -->
        {% for row in leaderboard %}
        <div class="flex justify-between items-center border-t border-white/20 py-2 text-sm sm:text-base">
          <div class="flex gap-4 sm:gap-6 min-w-[150px]">
            <p>{{ row.P }}</p>
            <p class="font-medium truncate max-w-[100px] sm:max-w-[150px]">{{ row.team.name }}</p>
          </div>
          <div class="flex gap-3 sm:gap-4">
            <p class="w-8 text-center">{{ row.MP }}</p>
            <p class="w-8 text-center">{{ row.W }}</p>
            <p class="w-8 text-center">{{ row.D }}</p>
            <p class="w-8 text-center">{{ row.L }}</p>
            <p class="w-8 text-center">{{ row.GS }}</p>
            <p class="w-8 text-center">{{ row.GC }}</p>
            <p class="w-10 text-center font-bold text-[#14D5D4]">{{ row.Pts }}</p>
          </div>
        </div>
        {% empty %}
        <p class="text-center py-4 text-white/70">No leaderboard data available.</p>
        {% endfor %}

      </div>
    </div>

  </div>
</main>

</body>
</html>
